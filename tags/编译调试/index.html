<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>编译调试 - DEVIN 0x01</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="alternate" type="application/rss+xml" href="/tags/%E7%BC%96%E8%AF%91%E8%B0%83%E8%AF%95/index.xml" title="DEVIN 0x01">

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="DEVIN 0x01" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">DEVIN 0x01</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main list" role="main">
	<header class="main__header">
		<h1 class="main__title">编译调试</h1>
	</header><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/cgdb%E9%85%8D%E7%BD%AE/" rel="bookmark">
			cgdb配置
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		1.安装 git clone git://github.com/cgdb/cgdb.git cd cgdb ./autogen.sh ./configure --prefix=/usr/local make sudo make install # 报错解决方法 sudo apt-get install automake libncurses5-dev flex texinfo libreadline-dev 2.配置 vim ~/.cgdb/cgdbrc set ignorecaseset ts=4 set wso=vertical set eld=shortarrow set hls map &lt;F9&gt; :until&lt;cr&gt; 3.快捷键 F5 - Send a run command to GDB. F6 - Send a continue command to GDB. F7 - Send a finish command to GDB. F8 - Send a next command to GDB.
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/coreddump%E9%85%8D%E7%BD%AE/" rel="bookmark">
			coredump配置
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		ulimit -c unlimited echo &#34;1&#34; &gt; /proc/sys/kernel/core_uses_pid mkdir -p /opt/debug echo &#34;/opt/debug/core-%e-%p-%t&#34; &gt; /proc/sys/kernel/core_pattern gdb &lt;program&gt; -c &lt;coredump_file&gt; up &lt;n&gt; #调用栈向上n次 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/post/%E5%85%B1%E4%BA%AB%E5%BA%93%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84/" rel="bookmark">
			共享库搜索路径
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		基本原理 -L编译选项是编译期间使用
LD_LIBRARY_PATH环境变量是运行期间使用，可以用来指定so的加载路径，并且优先级高于系统默认的。
RPATH和RUNPATH是ELF格式里面的一个数据，rpath编译选项实际上是在可执行文件中加入了RUNPATH或者RPATH。
小结一下一个ELF文件自身加载so的情况(不可信，仅供参考）：
其实这三者的关系概括起来没有几点：
LD_LIBRARY_PATH是个环境变量，优先级高于系统默认的。 RPATH是ELF格式里面的一个数据，他的优先级比LD_LIBRARY_PATH还要高 RUNPATH很特殊，如果他出现了RPATH就躲起来了，LD_LIBRARY_PATH 又成了首选?? ELF 中 RPATH ELF 中 RUNPATH LD_LIBRARY_PATH 变量 尝试加载目录的顺序 未设置 未设置 未设置 /lib =&gt; /usr/lib 未设置 未设置 设置 ${LD_LIBRARY_PATH} =&gt; /lib =&gt; /usr/lib 设置 未设置 未设置 ${RPATH} =&gt; /lib =&gt; /usr/lib 设置 未设置 设置 ${RPATH} =&gt; ${LD_LIBRARY_PATH} =&gt; /lib =&gt; /usr/lib 设置 或 未设置 设置 设置 ${LD_LIBRARY_PATH} =&gt; ${RUN_PATH} =&gt; /lib =&gt; /usr/lib 设置 或 未设置 设置 未设置 ${RUN_PATH} =&gt; /lib =&gt; /usr/lib LD_LIBRARY_PATH 例子 // a.
	</div>
</article>
</main>


			</div>
			

		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 DEVIN 0x01.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>